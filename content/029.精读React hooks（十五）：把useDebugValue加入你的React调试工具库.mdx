---
title: ç²¾è¯»React hooksï¼ˆåäº”ï¼‰ï¼šæŠŠuseDebugValueåŠ å…¥ä½ çš„Reactè°ƒè¯•å·¥å…·åº“
description: useDebugValue æ˜¯ä¸€ä¸ªä¸“ä¸ºå¼€å‘è€…è°ƒè¯•è‡ªå®šä¹‰ hook è€Œè®¾è®¡çš„ React hookï¼Œå®ƒå¯ä»¥è®©ä½ çš„ hook åœ¨ debug æ—¶æœ‰æ›´å‹å¥½çš„æç¤ºã€‚
slug: react-hook-useDebugValue
slugId: 01f63502-f459-4615-820d-a992d7322a89
tags: React
date: 2023-09-20
---

`useDebugValue` æ˜¯ä¸€ä¸ªä¸“ä¸ºå¼€å‘è€…è°ƒè¯•è‡ªå®šä¹‰ hook è€Œè®¾è®¡çš„ React hookã€‚å¯¹äºå¤§å¤šæ•°åº”ç”¨å¼€å‘è€…æ¥è¯´ï¼Œå¯èƒ½ä¸ä¼šç›´æ¥ä½¿ç”¨å®ƒï¼Œä½†å¯¹äºé‚£äº›éœ€è¦åˆ›å»ºå’Œç»´æŠ¤è‡ªå®šä¹‰ hooks çš„å¼€å‘è€…æ¥è¯´ï¼Œ`useDebugValue` å¯ä»¥æä¾›ä¸€ä¸ªæ›´åŠ å‹å¥½çš„æ˜¾ç¤ºï¼Œå¸®åŠ©å¼€å‘è€…æ›´å®¹æ˜“åœ°ç†è§£è¯¥ Hook çš„å½“å‰çŠ¶æ€ã€‚

## `useDebugValue`çš„ä½¿ç”¨

è¿™æ˜¯ `useDebugValue` çš„ç”¨æ³•å®šä¹‰ï¼š

```
useDebugValue(value, format?)
```

- `value` æ˜¯ä½ æƒ³åœ¨ React å¼€å‘å·¥å…·ä¸­æ˜¾ç¤ºçš„å€¼ï¼Œå¯ä»¥æ˜¯ä»»ä½•ç±»å‹
- `format` æ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ã€‚è¿™ä¸ªå‚æ•°çš„ç”¨é€”æ˜¯ï¼šæŸäº›æƒ…å†µä¸‹ï¼Œä¼šå­˜åœ¨å¼€é”€è¾ƒå¤§çš„æ ¼å¼åŒ–é€»è¾‘ï¼Œä¸ºäº†é¿å…ä¸å¿…è¦çš„è®¡ç®—ï¼ŒæŠŠæ ¼å¼åŒ–é€»è¾‘æ”¾åœ¨ `format`ï¼Œå°±å¯ä»¥è®©è¿™ä¸ªæ ¼å¼åŒ–é€»è¾‘åªåœ¨ DevTools éœ€è¦æ˜¾ç¤ºè¿™ä¸ªå€¼çš„æ—¶å€™æ‰æ‰§è¡Œã€‚

### ç”¨æ³•ç¤ºä¾‹

åœ¨ã€Š[ç²¾è¯»React hookï¼ˆåä¸‰ï¼‰ï¼šä½¿ç”¨useSyncExternalStoreè·å–å®æ—¶æ•°æ®](/article/useSyncExternalStore)ã€‹ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª[ç›‘å¬ç½‘ç»œçŠ¶æ€çš„æ¼”ç¤ºæ¡ˆä¾‹](https://nextjs.weijunext.com/hooks/useSyncExternalStore)ï¼Œç°åœ¨æˆ‘ä¸ºäº†è°ƒè¯•æ›´ç§‘å­¦ï¼Œæƒ³æŠŠç½‘ç»œçŠ¶æ€ä¹Ÿæ˜¾ç¤ºåœ¨ React å¼€å‘å·¥å…·ä¸Šé¢ï¼Œæˆ‘åœ¨åŸæ¥çš„ hook é‡Œæ·»åŠ  `useDebugValue` å°±å¯ä»¥ï¼š

```
export function useOnlineStatus() {
  const isOnline = useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);
  // useDebugValue
  useDebugValue(isOnline ? "âœ… Online(useDebugValue)" : "âŒ Disconnected(useDebugValue)")
  return isOnline;
}
```

ç°åœ¨æˆ‘æ‰“å¼€ React å¼€å‘å·¥å…·ï¼Œå¯ä»¥çœ‹åˆ° `useOnlineStatus` çš„è¿”å›å€¼æ˜¾ç¤ºå‡ºæ¥äº†ï¼š

![1.png](/assets/029/1.png)

`useDebugValue` ä¸ºå¼€å‘è€…åšçš„äº‹å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ä½ ä¹Ÿå¯ä»¥åˆ°[ğŸ‘‰æˆ‘çš„æ¼”ç¤ºç«™](https://nextjs.weijunext.com/hooks/useSyncExternalStore)éªŒè¯ã€‚

## `useDebugValue`çš„ä»·å€¼

åˆçœ‹ `useDebugValue` ä½ ä¼šè§‰å¾—å®ƒå¹¶æ²¡æœ‰å¸¦æ¥ä»€ä¹ˆä»·å€¼ï¼Œå…¶å®ä¸ç„¶ï¼Œä¾‹å¦‚åœ¨å¤§å‹é¡¹ç›®ä¸­å¯èƒ½ä¼šæœ‰å¾ˆå¤šè‡ªå®šä¹‰ Hooksï¼Œä¸ºè¿™äº› Hooks æä¾›æ¸…æ™°çš„ debug å€¼å¯ä»¥å¸®åŠ©å›¢é˜Ÿæ›´å®¹æ˜“åœ°è¯†åˆ«å’Œè§£å†³é—®é¢˜ï¼›è€Œå¯¹äºå¼€æºçš„è‡ªå®šä¹‰ Hooksï¼Œæä¾›è¿™æ ·çš„ debug å€¼æ›´æ˜¯å¯¹ä½¿ç”¨è€…çš„å‹å¥½æç¤ºã€‚

æ€»ç»“ä¸€ä¸‹ `useDebugValue` çš„ä¸»è¦ä»·å€¼ç‚¹ï¼š

1. æä¾›æ¸…æ™°çš„è°ƒè¯•ä¿¡æ¯ï¼šå½“ä½ åœ¨ React å¼€å‘å·¥å…·ä¸­æŸ¥çœ‹ä¸€ä¸ªç»„ä»¶ï¼Œå¦‚æœè¯¥ç»„ä»¶ä½¿ç”¨äº†å¤šä¸ªè‡ªå®šä¹‰ Hooksï¼Œ`useDebugValue` å¯ä»¥å¸®åŠ©ä½ æ›´æ¸…æ™°åœ°ç†è§£æ¯ä¸ª Hook çš„å½“å‰çŠ¶æ€ã€‚è¿™å¯¹äºè¿½è¸ªå’Œç†è§£ç»„ä»¶çš„è¡Œä¸ºéå¸¸æœ‰å¸®åŠ©ã€‚
2. å¢å¼ºè‡ªå®šä¹‰ Hooks çš„å¯ç”¨æ€§ï¼šå¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰ Hook å¹¶è®¡åˆ’ä¸å›¢é˜Ÿæˆ–ç¤¾åŒºå…±äº«ï¼Œä½¿ç”¨ `useDebugValue` å¯ä»¥ä½¿å…¶ä»–å¼€å‘è€…æ›´å®¹æ˜“åœ°ç†è§£å’Œè°ƒè¯•ä½¿ç”¨äº†ä½ çš„ Hook çš„ç»„ä»¶ã€‚
3. æŒ‰éœ€è®¡ç®—ï¼š`useDebugValue` å¯ä»¥æ¥å—ä¸€ä¸ªæ ¼å¼åŒ–å‡½æ•°ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥æŒ‰éœ€è®¡ç®—è°ƒè¯•å€¼ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—å¼€é”€ã€‚


## ä¸“æ èµ„æº

ä¸“æ åšå®¢åœ°å€ï¼š[ç²¾è¯»React Hooks](/tag/React)

ä¸“æ æ¼”ç¤ºç«™ï¼š[React Hooks Demos](https://nextjs.weijunext.com/hooks)

ä¸“æ æºç ä»“åº“ï¼šğŸ‘‰[Github - Source Code](https://github.com/weijunext/nextjs-learn-demos)

äº¤ä¸ªæœ‹å‹ï¼šğŸ‘‰[åŠ å…¥ã€Œç‹¬ç«‹å…¨æ ˆäº¤æµç¾¤ã€](/make-a-friend)

ä¸“æ æ–‡ç« åˆ—è¡¨ï¼š

[ç²¾è¯»React hooksï¼ˆä¸€ï¼‰ï¼šuseState çš„å‡ ä¸ªåŸºç¡€ç”¨æ³•å’Œè¿›é˜¶æŠ€å·§](/article/react-hook-useState)

[ç²¾è¯»React hooksï¼ˆäºŒï¼‰ï¼šReactçŠ¶æ€ç®¡ç†çš„å¼ºå¤§å·¥å…·â€”â€”useReducer](/article/react-hook-useReducer)

[ç²¾è¯»React hooksï¼ˆä¸‰ï¼‰ï¼šuseContextä»åŸºç¡€åº”ç”¨åˆ°æ€§èƒ½ä¼˜åŒ–](/article/react-hook-useContext)

[ç²¾è¯»React hooksï¼ˆå››ï¼‰ï¼šuseRefçš„å¤šç»´ç”¨é€”](/article/react-hook-useRef)

[ç²¾è¯»React hooksï¼ˆäº”ï¼‰ï¼šuseEffectä½¿ç”¨ç»†èŠ‚çŸ¥å¤šå°‘ï¼Ÿ](/article/react-hook-useEffect)

[ç²¾è¯»React hooksï¼ˆå…­ï¼‰ï¼šuseLayoutEffectè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ](/article/react-hook-useLayoutEffect)

[ç²¾è¯»React hooksï¼ˆä¸ƒï¼‰ï¼šç”¨useMemoæ¥å‡å°‘æ€§èƒ½å¼€é”€](/article/react-hook-useMemo)

[ç²¾è¯»React hooksï¼ˆå…«ï¼‰ï¼šæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦useCallback](/article/react-hook-useCallback)

[ç²¾è¯»React hooksï¼ˆä¹ï¼‰ï¼šä½¿ç”¨useTransitionè¿›è¡Œéé˜»å¡æ¸²æŸ“](/article/react-hook-useTransition)

[ç²¾è¯»React hooksï¼ˆåï¼‰ï¼šä½¿ç”¨useDeferredValueå»¶è¿ŸçŠ¶æ€æ›´æ–°](/article/react-hook-useDeferredValue)

[ç²¾è¯»React hooksï¼ˆåä¸€ï¼‰ï¼šuseInsertionEffectâ€”â€”CSS-in-JSæ ·å¼æ³¨å…¥æ–°æ–¹å¼](/article/react-hook-useInsertionEffect)

[ç²¾è¯»React hooksï¼ˆåäºŒï¼‰ï¼šä½¿ç”¨useImperativeHandleèƒ½è·å¾—ä»€ä¹ˆèƒ½åŠ›](/article/react-hook-useImperativeHandle)

[ç²¾è¯»React hooksï¼ˆåä¸‰ï¼‰ï¼šä½¿ç”¨useSyncExternalStoreè·å–å®æ—¶æ•°æ®](/article/react-hook-useSyncExternalStore)

[ç²¾è¯»React hooksï¼ˆåå››ï¼‰ï¼šæ€»æœ‰ä¸€å¤©ä½ ä¼šéœ€è¦useIdä¸ºä½ ç”Ÿæˆå”¯ä¸€id](/article/react-hook-useId)

[ç²¾è¯»React hooksï¼ˆåäº”ï¼‰ï¼šæŠŠuseDebugValueåŠ å…¥ä½ çš„Reactè°ƒè¯•å·¥å…·åº“](/article/react-hook-useDebugValue)

[ç²¾è¯»React hooksï¼ˆåå…­ï¼‰ï¼šä¸€ä¸ªä¸ºä»£ç ä¼˜é›…è€Œç”Ÿçš„hookâ€”â€”use](/article/react-hook-use)