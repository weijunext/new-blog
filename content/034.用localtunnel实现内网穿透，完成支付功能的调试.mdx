---
title: 用localtunnel实现内网穿透，完成支付功能的调试
description: LocalTunnel是主流的内网穿透工具之一，当你本地调试开发支付功能的时候，LocalTunnel可以帮助你建立外部服务向本地服务推送数据的通道。
slug: port-forwarding
tags: 编程工具
date: 2023-10-08
---

## 内网穿透是什么

内网穿透是一种技术，它允许你从外部网络（比如互联网）访问内部网络（比如家里或办公室的局域网）中的服务和设备。通过使用内网穿透技术，你可以创建一个通道，使得外部网络的用户能够访问到内部网络中的某个特定服务或设备。

## 内网穿透的使用场景

在我们开发工作中，最常见的需要内网穿透的场景就是本地调试支付功能、微信公众号消息推送。这类场景第三方会往我们的服务器推送数据，在本地调试阶段，我们必须把本地地址暴露到外网才能接收到消息，所以需要用到内网穿透技术。

## 介绍Localtunnel

常用的内网穿透软件有：LocalTunnel、Ngrok 等。本文就来介绍一下 Localtunnel。

当你使用 LocalTunnel 的时候，LocalTunnel 会为你创建一个临时的公网地址，并将这个网址连接到你的本地服务，外部服务就可以通过这个公网地址访问到你的内网服务。

## Localtunnel用法

1. 全局安装LocalTunnel `npm install –g localtunnel`
2. 启动服务 `lt --port 8000`，8000改成你本地服务的端口
    
    启动后就可以生成一个公网地址，如：`https://evil-cooks-shake.loca.lt`
    
3. 把这个地址提交给会为你推送数据的第三方服务就可以了。

注意事项：如果无法启动服务，可以科学上网后再尝试。

## 补充(2023年10月）

vscode已支持应用内设置内网穿透，以后不需要外部工具啦

![1.png](/assets/034/1.png)

