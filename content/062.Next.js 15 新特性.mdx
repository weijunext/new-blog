---
title: ã€Œè¯‘ã€Next.js 15 æ­£å¼ç‰ˆå‘å¸ƒ
description: Next.js 15 å¼•å…¥äº† React 19 æ”¯æŒã€ç¼“å­˜æ”¹è¿›ã€Turbopack å¼€å‘æ¨¡å¼ç¨³å®šç‰ˆã€æ–° API ç­‰åŠŸèƒ½
slug: nextjs-15-new-features
tags: NextJS
date: 2024-10-22
---

<Aside>
Next.js ä¸­æ–‡æ–‡æ¡£å·²åŒæ­¥è‡³ Next.js 15 ç‰ˆæœ¬ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†ç›®å½•ç¿»è¯‘ï¼Œæ›´åˆ©äºæ£€ç´¢å’Œé˜…è¯»ï¼Œæ¬¢è¿è®¿é—®ğŸ‘‰[Next.js ä¸­æ–‡æ–‡æ¡£](https://nextjscn.org/) æŸ¥çœ‹ã€‚
</Aside>

> æœ¬æ–‡æ˜¯ Next.js å®˜æ–¹å‘å¸ƒçš„ 15 ç‰ˆæœ¬åšå®¢ç¿»è¯‘ã€‚

Next.js 15 æ­£å¼å‘å¸ƒå¹¶å¯ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚æœ¬æ¬¡å‘å¸ƒåŸºäº [RC1](https://nextjs.org/blog/next-15-rc) å’Œ [RC2](https://nextjs.org/blog/next-15-rc2) çš„æ›´æ–°ã€‚æˆ‘ä»¬åœ¨ä¿è¯ç¨³å®šæ€§çš„åŒæ—¶ï¼Œæ·»åŠ äº†ä¸€äº›ä»¤äººå…´å¥‹çš„æ›´æ–°ã€‚ç°åœ¨å°±è¯•è¯• Next.js 15:

```bash
# ä½¿ç”¨æ–°çš„è‡ªåŠ¨å‡çº§ CLI
npx @next/codemod@canary upgrade latest

# ...æˆ–æ‰‹åŠ¨å‡çº§
npm install next@latest react@rc react-dom@rc
```

æˆ‘ä»¬ä¹Ÿå¾ˆé«˜å…´èƒ½åœ¨æœ¬å‘¨å›› (10 æœˆ 24 æ—¥) çš„ [Next.js Conf](https://nextjs.org/conf) ä¸Šåˆ†äº«æ›´å¤šå³å°†æ¨å‡ºçš„å†…å®¹ã€‚

ä»¥ä¸‹æ˜¯ Next.js 15 çš„æ–°ç‰¹æ€§:

* `@next/codemod` CLI:è½»æ¾å‡çº§åˆ°æœ€æ–°çš„ Next.js å’Œ React ç‰ˆæœ¬ã€‚
* å¼‚æ­¥è¯·æ±‚ API (ç ´åæ€§å˜æ›´):æœç€ç®€åŒ–æ¸²æŸ“å’Œç¼“å­˜æ¨¡å‹è¿ˆå‡ºçš„æ¸è¿›å¼ä¸€æ­¥ã€‚  
* ç¼“å­˜è¯­ä¹‰ (ç ´åæ€§å˜æ›´): `fetch` è¯·æ±‚ã€`GET` è·¯ç”±å¤„ç†ç¨‹åºå’Œå®¢æˆ·ç«¯å¯¼èˆªé»˜è®¤ä¸å†ç¼“å­˜ã€‚
* React 19 æ”¯æŒ: æ”¯æŒ React 19ã€React Compiler (å®éªŒæ€§) å¹¶æ”¹è¿› hydration é”™è¯¯ã€‚
* Turbopack Dev (ç¨³å®šç‰ˆ): æ€§èƒ½å’Œç¨³å®šæ€§æ”¹è¿›ã€‚
* é™æ€è·¯ç”±æŒ‡ç¤ºå™¨: åœ¨å¼€å‘æœŸé—´å±•ç¤ºé™æ€è·¯ç”±çš„æ–°å¯è§†åŒ–æŒ‡ç¤ºå™¨ã€‚
* `unstable_after` API (å®éªŒæ€§): åœ¨å“åº”å®Œæˆæµå¼ä¼ è¾“åæ‰§è¡Œä»£ç ã€‚
* `instrumentation.js` API (ç¨³å®šç‰ˆ): ç”¨äºæœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸå¯è§‚æµ‹æ€§çš„æ–° APIã€‚
* å¢å¼ºè¡¨å• (`next/form`): ä½¿ç”¨å®¢æˆ·ç«¯å¯¼èˆªå¢å¼º HTML è¡¨å•ã€‚
* `next.config`: `next.config.ts` çš„ TypeScript æ”¯æŒã€‚
* è‡ªæ‰˜ç®¡æ”¹è¿›: å¯¹ `Cache-Control` å¤´éƒ¨æœ‰æ›´å¤šæ§åˆ¶ã€‚
* Server Actions å®‰å…¨: æ— æ³•çŒœæµ‹çš„ç«¯ç‚¹å’Œåˆ é™¤æœªä½¿ç”¨çš„ actionsã€‚
* æ‰“åŒ…å¤–éƒ¨åŒ… (ç¨³å®šç‰ˆ): App å’Œ Pages Router çš„æ–°é…ç½®é€‰é¡¹ã€‚
* ESLint 9 æ”¯æŒ: å¢åŠ äº†å¯¹ ESLint 9 çš„æ”¯æŒã€‚
* å¼€å‘å’Œæ„å»ºæ€§èƒ½: æ”¹è¿›æ„å»ºæ—¶é—´å’Œæ›´å¿«çš„ Fast Refreshã€‚

## ä½¿ç”¨ `@next/codemod` CLI å¹³æ»‘å‡çº§

æˆ‘ä»¬åœ¨æ¯ä¸ªä¸»è¦çš„ Next.js ç‰ˆæœ¬ä¸­éƒ½åŒ…å«äº† codemods (è‡ªåŠ¨ä»£ç è½¬æ¢)ï¼Œä»¥å¸®åŠ©è‡ªåŠ¨å¤„ç†ç ´åæ€§å˜æ›´çš„å‡çº§ã€‚

ä¸ºäº†ä½¿å‡çº§æ›´åŠ å¹³æ»‘ï¼Œæˆ‘ä»¬å‘å¸ƒäº†ä¸€ä¸ªå¢å¼ºçš„ codemod CLI:

```bash
npx @next/codemod@canary upgrade latest
```

è¯¥å·¥å…·å¸®åŠ©ä½ å°†ä»£ç åº“å‡çº§åˆ°æœ€æ–°çš„ç¨³å®šç‰ˆæˆ–é¢„å‘å¸ƒç‰ˆæœ¬ã€‚CLI å°†æ›´æ–°ä½ çš„ä¾èµ–ï¼Œæ˜¾ç¤ºå¯ç”¨çš„ codemodsï¼Œå¹¶æŒ‡å¯¼ä½ åº”ç”¨å®ƒä»¬ã€‚

`canary` æ ‡ç­¾ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ codemodï¼Œè€Œ latest æŒ‡å®š Next.js ç‰ˆæœ¬ã€‚å³ä½¿ä½ æ­£åœ¨å‡çº§åˆ°æœ€æ–°çš„ Next.js ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¹Ÿå»ºè®®ä½¿ç”¨ canary ç‰ˆæœ¬çš„ codemodï¼Œå› ä¸ºæˆ‘ä»¬è®¡åˆ’æ ¹æ®ä½ çš„åé¦ˆç»§ç»­å¯¹è¯¥å·¥å…·è¿›è¡Œæ”¹è¿›ã€‚

äº†è§£æ›´å¤šå…³äº [Next.js codemod CLI](https://nextjs.org/docs/app/building-your-application/upgrading/codemods) çš„ä¿¡æ¯ã€‚

## å¼‚æ­¥è¯·æ±‚ API (ç ´åæ€§å˜æ›´)

åœ¨ä¼ ç»Ÿçš„æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¸­ï¼ŒæœåŠ¡å™¨ä¼šç­‰å¾…è¯·æ±‚åå†æ¸²æŸ“ä»»ä½•å†…å®¹ã€‚ä½†æ˜¯ï¼Œå¹¶éæ‰€æœ‰ç»„ä»¶éƒ½ä¾èµ–äºè¯·æ±‚ç‰¹å®šçš„æ•°æ®ï¼Œå› æ­¤æ²¡æœ‰å¿…è¦ç­‰å¾…è¯·æ±‚æ¥æ¸²æŸ“å®ƒä»¬ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åº”è¯¥åœ¨è¯·æ±‚åˆ°è¾¾ä¹‹å‰å°½å¯èƒ½å¤šåœ°å‡†å¤‡ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸ºæœªæ¥çš„ä¼˜åŒ–å¥ å®šåŸºç¡€ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä½•æ—¶ç­‰å¾…è¯·æ±‚ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬æ­£åœ¨å°†ä¾èµ–äºè¯·æ±‚ç‰¹å®šæ•°æ®çš„ API (å¦‚ `headers`ã€`cookies`ã€`params` å’Œ `searchParams`) è½¬æ¢ä¸º**å¼‚æ­¥**ã€‚

```javascript
import { cookies } from 'next/headers';

export async function AdminPanel() {
  const cookieStore = await cookies();
  const token = cookieStore.get('token');
  
  // ...
}
```

è¿™æ˜¯ä¸€ä¸ª**ç ´åæ€§å˜æ›´**ï¼Œå½±å“ä»¥ä¸‹ API:

* `cookies`
* `headers`
* `draftMode`
* `params` (åœ¨ `layout.js`ã€`page.js`ã€`route.js`ã€`default.js`ã€`generateMetadata` å’Œ `generateViewport` ä¸­)
* `searchParams` (åœ¨ `page.js` ä¸­)

ä¸ºäº†æ›´å®¹æ˜“è¿ç§»ï¼Œè¿™äº› API å¯ä»¥æš‚æ—¶åŒæ­¥è®¿é—®ï¼Œä½†åœ¨å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸­ä¼šæ˜¾ç¤ºè­¦å‘Šï¼Œç›´åˆ°ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ã€‚æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª [codemod](https://nextjs.org/docs/app/building-your-application/upgrading/codemods) æ¥è‡ªåŠ¨å®Œæˆè¿ç§»:

```bash
npx @next/codemod@canary next-async-request-api .
```

å¯¹äº codemod æ— æ³•å®Œå…¨è¿ç§»çš„æƒ…å†µï¼Œè¯·é˜…è¯» [å‡çº§æŒ‡å—](https://nextjs.org/docs/app/building-your-application/upgrading/version-15)ã€‚æˆ‘ä»¬è¿˜æä¾›äº†ä¸€ä¸ª [ç¤ºä¾‹](https://github.com/leerob/next-saas-starter/pull/62) æ¥è¯´æ˜å¦‚ä½•å°† Next.js åº”ç”¨ç¨‹åºè¿ç§»åˆ°æ–°çš„ APIã€‚

## ç¼“å­˜è¯­ä¹‰

Next.js App Router æ¨å‡ºæ—¶å…·æœ‰ç‹¬ç‰¹çš„ç¼“å­˜é»˜è®¤å€¼ã€‚è¿™äº›é»˜è®¤å€¼æ—¨åœ¨é»˜è®¤æä¾›æœ€ä½³æ€§èƒ½é€‰é¡¹ï¼ŒåŒæ—¶åœ¨éœ€è¦æ—¶å¯ä»¥é€‰æ‹©é€€å‡ºã€‚

æ ¹æ®ä½ çš„åé¦ˆï¼Œæˆ‘ä»¬é‡æ–°è¯„ä¼°äº†æˆ‘ä»¬çš„ [ç¼“å­˜å¯å‘å¼æ–¹æ³•](https://x.com/feedthejim/status/1785242054773145636) ä»¥åŠå®ƒä»¬å¦‚ä½•ä¸éƒ¨åˆ†é¢„æ¸²æŸ“ (PPR) å’Œä½¿ç”¨ `fetch` çš„ç¬¬ä¸‰æ–¹åº“è¿›è¡Œäº¤äº’ã€‚

åœ¨ Next.js 15 ä¸­ï¼Œæˆ‘ä»¬å°† `GET` è·¯ç”±å¤„ç†ç¨‹åºå’Œå®¢æˆ·ç«¯è·¯ç”±å™¨ç¼“å­˜çš„é»˜è®¤å€¼ä»é»˜è®¤ç¼“å­˜æ›´æ”¹ä¸ºé»˜è®¤ä¸ç¼“å­˜ã€‚å¦‚æœä½ æƒ³ä¿ç•™ä»¥å‰çš„è¡Œä¸ºï¼Œä½ å¯ä»¥ç»§ç»­é€‰æ‹©å¯ç”¨ç¼“å­˜ã€‚

æˆ‘ä»¬å°†åœ¨æœªæ¥å‡ ä¸ªæœˆç»§ç»­æ”¹è¿› Next.js ä¸­çš„ç¼“å­˜ï¼Œå¹¶å¾ˆå¿«åˆ†äº«æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

### `GET` è·¯ç”±å¤„ç†ç¨‹åºé»˜è®¤ä¸å†ç¼“å­˜

åœ¨ Next 14 ä¸­ï¼Œä½¿ç”¨ `GET` HTTP æ–¹æ³•çš„è·¯ç”±å¤„ç†ç¨‹åºé»˜è®¤ä¼šè¢«ç¼“å­˜ï¼Œé™¤éå®ƒä»¬ä½¿ç”¨åŠ¨æ€å‡½æ•°æˆ–åŠ¨æ€é…ç½®é€‰é¡¹ã€‚åœ¨ Next.js 15 ä¸­ï¼Œ`GET` å‡½æ•°**é»˜è®¤ä¸ä¼šç¼“å­˜**ã€‚

ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨é™æ€è·¯ç”±é…ç½®é€‰é¡¹æ¥é€‰æ‹©å¯ç”¨ç¼“å­˜ï¼Œæ¯”å¦‚ `export dynamic = 'force-static'`ã€‚

ç‰¹æ®Šçš„è·¯ç”±å¤„ç†ç¨‹åºå¦‚ [`sitemap.ts`](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/sitemap)ã€[`opengraph-image.tsx`](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image)ã€[`icon.tsx`](https://nextjs.org/docs/app/api-reference/file-conventions/metadata/app-icons) å’Œå…¶ä»– [å…ƒæ•°æ®æ–‡ä»¶](https://nextjs.org/docs/app/api-reference/file-conventions/metadata) é»˜è®¤ä»ç„¶æ˜¯é™æ€çš„ï¼Œé™¤éå®ƒä»¬ä½¿ç”¨åŠ¨æ€å‡½æ•°æˆ–åŠ¨æ€é…ç½®é€‰é¡¹ã€‚

### å®¢æˆ·ç«¯è·¯ç”±å™¨ç¼“å­˜é»˜è®¤ä¸å†ç¼“å­˜é¡µé¢ç»„ä»¶

åœ¨ Next.js 14.2.0 ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªå®éªŒæ€§çš„ [`staleTimes`](https://nextjs.org/docs/app/api-reference/next-config-js/staleTimes) æ ‡å¿—ï¼Œå…è®¸è‡ªå®šä¹‰é…ç½® [è·¯ç”±å™¨ç¼“å­˜](https://nextjs.org/docs/app/building-your-application/caching#client-side-router-cache)ã€‚

åœ¨ Next.js 15 ä¸­ï¼Œè¿™ä¸ªæ ‡å¿—ä»ç„¶å¯ç”¨ï¼Œä½†æˆ‘ä»¬æ­£åœ¨æ›´æ”¹é»˜è®¤è¡Œä¸ºï¼Œå°†é¡µé¢æ®µçš„ `staleTime` è®¾ä¸º `0`ã€‚è¿™æ„å‘³ç€å½“ä½ åœ¨åº”ç”¨ç¨‹åºä¸­å¯¼èˆªæ—¶ï¼Œå®¢æˆ·ç«¯å°†å§‹ç»ˆåæ˜ ä½œä¸ºå¯¼èˆªä¸€éƒ¨åˆ†è€Œå˜ä¸ºæ´»åŠ¨çŠ¶æ€çš„é¡µé¢ç»„ä»¶çš„æœ€æ–°æ•°æ®ã€‚ç„¶è€Œï¼Œä»æœ‰ä¸€äº›é‡è¦çš„è¡Œä¸ºä¿æŒä¸å˜:

* å…±äº«å¸ƒå±€æ•°æ®ä¸ä¼šä»æœåŠ¡å™¨é‡æ–°è·å–ï¼Œä»¥ç»§ç»­æ”¯æŒ [éƒ¨åˆ†æ¸²æŸ“](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#4-partial-rendering)
* åé€€/å‰è¿›å¯¼èˆªä»å°†ä»ç¼“å­˜æ¢å¤ï¼Œä»¥ç¡®ä¿æµè§ˆå™¨å¯ä»¥æ¢å¤æ»šåŠ¨ä½ç½®
* [`loading.js`](https://nextjs.org/docs/app/api-reference/file-conventions/loading) å°†ä¿æŒç¼“å­˜ 5 åˆ†é’Ÿ(æˆ– `staleTimes.static` é…ç½®çš„å€¼)

ä½ å¯ä»¥é€šè¿‡è®¾ç½®ä»¥ä¸‹é…ç½®æ¥é€‰æ‹©ä½¿ç”¨ä¹‹å‰çš„å®¢æˆ·ç«¯è·¯ç”±å™¨ç¼“å­˜è¡Œä¸º:

```javascript
// next.config.ts
const nextConfig = {
  experimental: {
    staleTimes: {
      dynamic: 30
    }
  }
};

export default nextConfig;
```

## React 19

ä½œä¸º Next.js 15 å‘å¸ƒçš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å†³å®šä¸å³å°†å‘å¸ƒçš„ React 19 ä¿æŒä¸€è‡´ã€‚

åœ¨ç‰ˆæœ¬ 15 ä¸­ï¼ŒApp Router ä½¿ç”¨ React 19 RCï¼Œæ ¹æ®ç¤¾åŒºåé¦ˆï¼Œæˆ‘ä»¬è¿˜ä¸ºä½¿ç”¨ Pages Router çš„ React 18 å¼•å…¥äº†å‘åå…¼å®¹æ€§ã€‚å¦‚æœä½ ä½¿ç”¨ Pages Routerï¼Œè¿™å…è®¸ä½ åœ¨å‡†å¤‡å¥½æ—¶å‡çº§åˆ° React 19ã€‚

è™½ç„¶ React 19 ä»å¤„äº RC é˜¶æ®µï¼Œä½†æˆ‘ä»¬åœ¨çœŸå®ä¸–ç•Œåº”ç”¨ç¨‹åºä¸­çš„å¹¿æ³›æµ‹è¯•ä»¥åŠä¸ React å›¢é˜Ÿçš„å¯†åˆ‡åˆä½œè®©æˆ‘ä»¬å¯¹å…¶ç¨³å®šæ€§å……æ»¡ä¿¡å¿ƒã€‚æ ¸å¿ƒç ´åæ€§å˜æ›´å·²ç»ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œä¸ä¼šå½±å“ç°æœ‰çš„ App Router ç”¨æˆ·ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†³å®šç°åœ¨å°† Next.js 15 å‘å¸ƒä¸ºç¨³å®šç‰ˆï¼Œä»¥ä¾¿ä½ çš„é¡¹ç›®ä¸º React 19 GA åšå¥½å……åˆ†å‡†å¤‡ã€‚

ä¸ºç¡®ä¿è¿‡æ¸¡å°½å¯èƒ½é¡ºåˆ©ï¼Œæˆ‘ä»¬æä¾›äº† [codemods å’Œè‡ªåŠ¨åŒ–å·¥å…·](#smooth-upgrades-with-codemod-cli) æ¥å¸®åŠ©ç®€åŒ–è¿ç§»è¿‡ç¨‹ã€‚

é˜…è¯» [Next.js 15 å‡çº§æŒ‡å—](https://nextjs.org/docs/app/building-your-application/upgrading/version-15)ã€[React 19 å‡çº§æŒ‡å—](https://react.devhttps://nextjs.org/blog/2024/04/25/react-19-upgrade-guide) å¹¶è§‚çœ‹ [React Conf ä¸»é¢˜æ¼”è®²](https://www.youtube.com/live/T8TZQ6k4SLE?t=1788) ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚

### Pages Router ä¸Šçš„ React 18

Next.js 15 ä¿æŒäº† Pages Router ä¸ React 18 çš„å‘åå…¼å®¹æ€§ï¼Œå…è®¸ç”¨æˆ·åœ¨äº«å— Next.js 15 æ”¹è¿›çš„åŒæ—¶ç»§ç»­ä½¿ç”¨ React 18ã€‚

ä»ç¬¬ä¸€ä¸ªå‘å¸ƒå€™é€‰ç‰ˆæœ¬(RC1)å¼€å§‹ï¼Œæ ¹æ®ç¤¾åŒºåé¦ˆï¼Œæˆ‘ä»¬å°†é‡ç‚¹è½¬å‘åŒ…å«å¯¹ React 18 çš„æ”¯æŒã€‚è¿™ç§çµæ´»æ€§ä½¿ä½ èƒ½å¤Ÿåœ¨ä½¿ç”¨ Pages Router å’Œ React 18 çš„åŒæ—¶é‡‡ç”¨ Next.js 15ï¼Œè®©ä½ å¯¹å‡çº§è·¯å¾„æœ‰æ›´å¤§çš„æ§åˆ¶ã€‚

> **æ³¨æ„:** è™½ç„¶åœ¨åŒä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­å¯ä»¥åœ¨ React 18 ä¸Šè¿è¡Œ Pages Routerã€åœ¨ React 19 ä¸Šè¿è¡Œ App Routerï¼Œä½†æˆ‘ä»¬ä¸æ¨èè¿™ç§è®¾ç½®ã€‚è¿™æ ·åšå¯èƒ½ä¼šå¯¼è‡´ä¸å¯é¢„æµ‹çš„è¡Œä¸ºå’Œç±»å‹ä¸ä¸€è‡´ï¼Œå› ä¸ºä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„åº•å±‚ API å’Œæ¸²æŸ“é€»è¾‘å¯èƒ½ä¸å®Œå…¨ä¸€è‡´ã€‚

### React Compiler (å®éªŒæ€§)

[React Compiler](https://react.dev/learn/react-compiler) æ˜¯ç”± Meta çš„ React å›¢é˜Ÿåˆ›å»ºçš„ä¸€ä¸ªæ–°çš„å®éªŒæ€§ç¼–è¯‘å™¨ã€‚è¯¥ç¼–è¯‘å™¨é€šè¿‡ç†è§£çº¯ JavaScript è¯­ä¹‰å’Œ [React è§„åˆ™](https://react.dev/reference/rules) æ¥æ·±å…¥ç†è§£ä½ çš„ä»£ç ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿä¸ºä½ çš„ä»£ç æ·»åŠ è‡ªåŠ¨ä¼˜åŒ–ã€‚ç¼–è¯‘å™¨å‡å°‘äº†å¼€å‘äººå‘˜é€šè¿‡ `useMemo` å’Œ `useCallback` ç­‰ API è¿›è¡Œæ‰‹åŠ¨è®°å¿†åŒ–çš„å·¥ä½œé‡ - ä½¿ä»£ç æ›´ç®€å•ã€æ›´æ˜“ç»´æŠ¤ä¸”ä¸æ˜“å‡ºé”™ã€‚

åœ¨ Next.js 15 ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†å¯¹ [React Compiler](https://react.dev/learn/react-compiler) çš„æ”¯æŒã€‚äº†è§£æ›´å¤šå…³äº React Compiler å’Œ [å¯ç”¨çš„ Next.js é…ç½®é€‰é¡¹](https://react.dev/learn/react-compiler#usage-with-nextjs)ã€‚

> **æ³¨æ„:** React Compiler ç›®å‰ä»…ä½œä¸º Babel æ’ä»¶æä¾›ï¼Œè¿™å°†å¯¼è‡´å¼€å‘å’Œæ„å»ºæ—¶é—´å˜æ…¢ã€‚

### Hydration é”™è¯¯æ”¹è¿›

Next.js 14.1 [æ”¹è¿›äº†](https://nextjs.org/blog/next-14-1#improved-error-messages-and-fast-refresh) é”™è¯¯æ¶ˆæ¯å’Œ hydration é”™è¯¯ã€‚Next.js 15 ç»§ç»­åœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ äº†æ”¹è¿›çš„ hydration é”™è¯¯è§†å›¾ã€‚Hydration é”™è¯¯ç°åœ¨ä¼šæ˜¾ç¤ºé”™è¯¯çš„æºä»£ç ä»¥åŠå¦‚ä½•è§£å†³é—®é¢˜çš„å»ºè®®ã€‚

ä¾‹å¦‚ï¼Œè¿™æ˜¯ Next.js 14.1 ä¸­çš„ hydration é”™è¯¯æ¶ˆæ¯:

![Next.js 14.1 ä¸­çš„ Hydration é”™è¯¯æ¶ˆæ¯](https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-15-rc%2Fhydration-error-before-light.png&w=2048&q=75&dpl=dpl_9DwnXmE5nLRCqXjvTJbKSYoRXwtf)![Next.js 14.1 ä¸­çš„ Hydration é”™è¯¯æ¶ˆæ¯](https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-15-rc%2Fhydration-error-before-dark.png&w=2048&q=75&dpl=dpl_9DwnXmE5nLRCqXjvTJbKSYoRXwtf)

Next.js 15 æ”¹è¿›åçš„æ•ˆæœ:

![Next.js 15 ä¸­æ”¹è¿›çš„ Hydration é”™è¯¯æ¶ˆæ¯](https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-15-rc%2Fhydration-error-after-light.png&w=1920&q=75&dpl=dpl_9DwnXmE5nLRCqXjvTJbKSYoRXwtf)![Next.js 15 ä¸­æ”¹è¿›çš„ Hydration é”™è¯¯æ¶ˆæ¯](https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-15-rc%2Fhydration-error-after-dark.png&w=1920&q=75&dpl=dpl_9DwnXmE5nLRCqXjvTJbKSYoRXwtf)

## Turbopack Dev

æˆ‘ä»¬å¾ˆé«˜å…´åœ°å®£å¸ƒ `next dev --turbo` ç°åœ¨å·²ç»**ç¨³å®šå¹¶å‡†å¤‡å¥½**åŠ é€Ÿä½ çš„å¼€å‘ä½“éªŒã€‚æˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨å®ƒæ¥è¿­ä»£å¼€å‘ [vercel.com](https://vercel.com)ã€[nextjs.org](https://nextjs.org)ã€[v0](https://v0.dev) å’Œæˆ‘ä»¬æ‰€æœ‰å…¶ä»–çš„åº”ç”¨ç¨‹åºï¼Œå¹¶å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœã€‚

ä¾‹å¦‚ï¼Œå¯¹äº vercel.com è¿™æ ·çš„å¤§å‹ Next.js åº”ç”¨:

* æœ¬åœ°æœåŠ¡å™¨å¯åŠ¨é€Ÿåº¦**å¿« 76.7%**
* Fast Refresh ä»£ç æ›´æ–°é€Ÿåº¦**å¿« 96.3%**
* æ— ç¼“å­˜æ—¶çš„åˆå§‹è·¯ç”±ç¼–è¯‘é€Ÿåº¦**å¿« 45.8%** (Turbopack ç›®å‰è¿˜æ²¡æœ‰ç£ç›˜ç¼“å­˜)

ä½ å¯ä»¥åœ¨æˆ‘ä»¬çš„æ–° [åšæ–‡](https://nextjs.org/blog/turbopack-for-development-stable) ä¸­äº†è§£æ›´å¤šå…³äº Turbopack Dev çš„ä¿¡æ¯ã€‚

## é™æ€è·¯ç”±æŒ‡ç¤ºå™¨

Next.js ç°åœ¨åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ˜¾ç¤ºé™æ€è·¯ç”±æŒ‡ç¤ºå™¨ï¼Œå¸®åŠ©ä½ è¯†åˆ«å“ªäº›è·¯ç”±æ˜¯é™æ€çš„æˆ–åŠ¨æ€çš„ã€‚è¿™ä¸ªå¯è§†åŒ–æç¤ºè®©ä½ æ›´å®¹æ˜“ç†è§£é¡µé¢çš„æ¸²æŸ“æ–¹å¼ï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚

![](https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-15-rc2%2Fstatic-route-light.png&w=3840&q=75&dpl=dpl_9DwnXmE5nLRCqXjvTJbKSYoRXwtf)![](https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-15-rc2%2Fstatic-route-dark.png&w=3840&q=75&dpl=dpl_9DwnXmE5nLRCqXjvTJbKSYoRXwtf)

ä½ è¿˜å¯ä»¥ä½¿ç”¨ [next build](https://nextjs.org/docs/app/api-reference/cli/next#next-build-options) è¾“å‡ºæ¥æŸ¥çœ‹æ‰€æœ‰è·¯ç”±çš„æ¸²æŸ“ç­–ç•¥ã€‚

è¿™ä¸ªæ›´æ–°æ˜¯æˆ‘ä»¬æŒç»­åŠªåŠ›å¢å¼º Next.js å¯è§‚æµ‹æ€§çš„ä¸€éƒ¨åˆ†ï¼Œä½¿å¼€å‘äººå‘˜æ›´å®¹æ˜“ç›‘æ§ã€è°ƒè¯•å’Œä¼˜åŒ–ä»–ä»¬çš„åº”ç”¨ç¨‹åºã€‚æˆ‘ä»¬ä¹Ÿåœ¨å¼€å‘ä¸“é—¨çš„å¼€å‘è€…å·¥å…·ï¼Œæ›´å¤šç»†èŠ‚å³å°†å…¬å¸ƒã€‚

äº†è§£æ›´å¤šå…³äº [é™æ€è·¯ç”±æŒ‡ç¤ºå™¨](https://nextjs.org/docs/app/api-reference/next-config-js/devIndicators#appisrstatus-static-indicator) çš„ä¿¡æ¯ï¼Œè¯¥åŠŸèƒ½å¯ä»¥è¢«ç¦ç”¨ã€‚

## ä½¿ç”¨ `unstable_after` åœ¨å“åº”åæ‰§è¡Œä»£ç  (å®éªŒæ€§)

åœ¨å¤„ç†ç”¨æˆ·è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨é€šå¸¸æ‰§è¡Œä¸è®¡ç®—å“åº”ç›´æ¥ç›¸å…³çš„ä»»åŠ¡ã€‚ä½†æ˜¯ï¼Œä½ å¯èƒ½éœ€è¦æ‰§è¡Œä¸€äº›ä»»åŠ¡ï¼Œå¦‚æ—¥å¿—è®°å½•ã€åˆ†æå’Œå…¶ä»–å¤–éƒ¨ç³»ç»ŸåŒæ­¥ã€‚

ç”±äºè¿™äº›ä»»åŠ¡ä¸å“åº”æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œç”¨æˆ·ä¸åº”è¯¥ç­‰å¾…å®ƒä»¬å®Œæˆã€‚ä½†æ˜¯åœ¨å“åº”ç»“æŸåå»¶è¿Ÿæ‰§è¡Œå·¥ä½œä¼šå¸¦æ¥æŒ‘æˆ˜ï¼Œå› ä¸ºæ— æœåŠ¡å™¨å‡½æ•°ä¼šåœ¨å“åº”å…³é—­åç«‹å³åœæ­¢è®¡ç®—ã€‚

`after()` æ˜¯ä¸€ä¸ªæ–°çš„å®éªŒæ€§ APIï¼Œé€šè¿‡å…è®¸ä½ å®‰æ’åœ¨å“åº”æµå¼ä¼ è¾“å®Œæˆåå¤„ç†çš„å·¥ä½œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿æ¬¡è¦ä»»åŠ¡èƒ½å¤Ÿåœ¨ä¸é˜»å¡ä¸»è¦å“åº”çš„æƒ…å†µä¸‹è¿è¡Œã€‚

è¦ä½¿ç”¨å®ƒï¼Œè¯·åœ¨ `next.config.js` ä¸­æ·»åŠ  `experimental.after`:

```javascript
// next.config.ts
const nextConfig = {
  experimental: {
    after: true
  }
};

export default nextConfig;
```

ç„¶ååœ¨æœåŠ¡å™¨ç»„ä»¶ã€æœåŠ¡å™¨ Actionsã€è·¯ç”±å¤„ç†ç¨‹åºæˆ–ä¸­é—´ä»¶ä¸­å¯¼å…¥è¯¥å‡½æ•°:

```javascript
import { unstable_after as after } from 'next/server';
import { log } from '@/app/utils';

export default function Layout({ children }) {
  // æ¬¡è¦ä»»åŠ¡
  after(() => {
    log();
  });

  // ä¸»è¦ä»»åŠ¡
  return <>{children}</>;
}
```

äº†è§£æ›´å¤šå…³äº [`unstable_after`](https://nextjs.org/docs/app/api-reference/functions/unstable_after) çš„ä¿¡æ¯ã€‚

## `instrumentation.js` (ç¨³å®šç‰ˆ)

å¸¦æœ‰ `register()` API çš„ `instrumentation` æ–‡ä»¶å…è®¸ç”¨æˆ·æ¥å…¥ Next.js æœåŠ¡å™¨ç”Ÿå‘½å‘¨æœŸï¼Œä»¥ç›‘æ§æ€§èƒ½ã€è¿½è¸ªé”™è¯¯æºå¤´ï¼Œå¹¶æ·±åº¦é›†æˆå¦‚ [OpenTelemetry](https://opentelemetry.io/) ç­‰å¯è§‚æµ‹æ€§åº“ã€‚

è¿™ä¸ªåŠŸèƒ½ç°åœ¨å·²ç»**ç¨³å®š**ï¼Œå¯ä»¥ç§»é™¤ `experimental.instrumentationHook` é…ç½®é€‰é¡¹ã€‚

æ­¤å¤–ï¼Œæˆ‘ä»¬ä¸ [Sentry](https://sentry.io/) åˆä½œè®¾è®¡äº†ä¸€ä¸ªæ–°çš„ `onRequestError` é’©å­ï¼Œå¯ç”¨äº:

* æ•è·æœåŠ¡å™¨ä¸ŠæŠ›å‡ºçš„æ‰€æœ‰é”™è¯¯çš„é‡è¦ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬:
  * è·¯ç”±å™¨: Pages Router æˆ– App Router
  * æœåŠ¡å™¨ä¸Šä¸‹æ–‡: æœåŠ¡å™¨ç»„ä»¶ã€æœåŠ¡å™¨ Actionã€è·¯ç”±å¤„ç†ç¨‹åºæˆ–ä¸­é—´ä»¶
* å°†é”™è¯¯æŠ¥å‘Šç»™ä½ å–œæ¬¢çš„å¯è§‚æµ‹æ€§æä¾›å•†

```javascript
export async function onRequestError(errï¼Œ requestï¼Œ context) {
  await fetch('https://...', {
    method: 'POST',
    body: JSON.stringify({ message: err.message, request, context }),
    headers: { 'Content-Type': 'application/json' },
  });
}

export async function register() {
  // åˆå§‹åŒ–ä½ å–œæ¬¢çš„å¯è§‚æµ‹æ€§æä¾›å•† SDK
}
```

äº†è§£æ›´å¤šå…³äº `onRequestError` [å‡½æ•°](https://nextjs.org/docs/app/api-reference/file-conventions/instrumentation#onrequesterror-optional) çš„ä¿¡æ¯ã€‚

## `<Form>` ç»„ä»¶

æ–°çš„ `<Form>` ç»„ä»¶æ‰©å±•äº† HTML `<form>` å…ƒç´ ï¼Œå¢åŠ äº† [é¢„è·å–](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching)ã€[å®¢æˆ·ç«¯å¯¼èˆª](https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#5-soft-navigation) å’Œæ¸è¿›å¢å¼ºåŠŸèƒ½ã€‚

å®ƒå¯¹äºé‚£äº›éœ€è¦å¯¼èˆªåˆ°æ–°é¡µé¢çš„è¡¨å•å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚å¯¼å‘ç»“æœé¡µé¢çš„æœç´¢è¡¨å•ã€‚

```javascript
// app/page.jsx
import Form from 'next/form';

export default function Page() {
  return (
    <Form action="/search">
      <input name="query" />
      <button type="submit">æäº¤</button>
    </Form>
  );
}
```

`<Form>` ç»„ä»¶å…·æœ‰ä»¥ä¸‹ç‰¹æ€§:

* **é¢„è·å–**: å½“è¡¨å•å‡ºç°åœ¨è§†å›¾ä¸­æ—¶ï¼Œ[å¸ƒå±€](https://nextjs.org/docs/app/api-reference/file-conventions/layout) å’Œ [loading](https://nextjs.org/docs/app/api-reference/file-conventions/loading) UI ä¼šè¢«é¢„è·å–ï¼Œä½¿å¯¼èˆªå˜å¾—å¿«é€Ÿã€‚
* **å®¢æˆ·ç«¯å¯¼èˆª**: åœ¨æäº¤æ—¶ï¼Œå…±äº«å¸ƒå±€å’Œå®¢æˆ·ç«¯çŠ¶æ€ä¼šè¢«ä¿ç•™ã€‚
* **æ¸è¿›å¢å¼º**: å¦‚æœ JavaScript è¿˜æ²¡æœ‰åŠ è½½ï¼Œè¡¨å•ä»ç„¶å¯ä»¥é€šè¿‡å®Œæ•´é¡µé¢å¯¼èˆªå·¥ä½œã€‚

ä¹‹å‰ï¼Œè¦å®ç°è¿™äº›åŠŸèƒ½éœ€è¦å¤§é‡çš„æ‰‹åŠ¨æ¨¡æ¿ä»£ç ã€‚ä¾‹å¦‚:

```javascript
// æ³¨æ„: è¿™æ˜¯ä¸ºäº†æ¼”ç¤ºç›®çš„è€Œç®€åŒ–çš„ä»£ç ã€‚
// ä¸å»ºè®®åœ¨ç”Ÿäº§ä»£ç ä¸­ä½¿ç”¨ã€‚

'use client'

import { useEffect } from 'react'
import { useRouter } from 'next/navigation'

export default function Form(props) {
  const action = props.action
  const router = useRouter()

  useEffect(() => {
    // å¦‚æœè¡¨å•ç›®æ ‡æ˜¯ URLï¼Œåˆ™é¢„è·å–å®ƒ
    if (typeof action === 'string') {
      router.prefetch(action)
    }
  }ï¼Œ [actionï¼Œ router])

  function onSubmit(event) {
    event.preventDefault()

    // è·å–æ‰€æœ‰è¡¨å•å­—æ®µå¹¶è§¦å‘å¸¦æœ‰æ•°æ® URL ç¼–ç çš„ `router.push`
    const formData = new FormData(event.currentTarget)
    const data = new URLSearchParams()

    for (const [nameï¼Œ value] of formData) {
      data.append(nameï¼Œ value as string)
    }

    router.push(`${action}?${data.toString()}`)
  }

  if (typeof action === 'string') {
    return <form onSubmit={onSubmit} {...props} />
  }

  return <form {...props} />
}
```

äº†è§£æ›´å¤šå…³äº [`<Form>` ç»„ä»¶](https://nextjs.org/docs/app/api-reference/components/form) çš„ä¿¡æ¯ã€‚

## æ”¯æŒ `next.config.ts`

Next.js ç°åœ¨æ”¯æŒ TypeScript çš„ `next.config.ts` æ–‡ä»¶ç±»å‹ï¼Œå¹¶æä¾›äº† `NextConfig` ç±»å‹ç”¨äºè‡ªåŠ¨è¡¥å…¨å’Œç±»å‹å®‰å…¨çš„é€‰é¡¹:

```typescript
// next.config.ts
import type { NextConfig } from 'next';

const nextConfig: NextConfig = {
  /* åœ¨æ­¤å¤„é…ç½®é€‰é¡¹ */
};

export default nextConfig;
```

äº†è§£æ›´å¤šå…³äº Next.js ä¸­çš„ [TypeScript æ”¯æŒ](https://nextjs.org/docs/app/building-your-applicationhttps://nextjs.org/configuring/typescript#type-checking-nextconfigts)ã€‚

## è‡ªæ‰˜ç®¡æ”¹è¿›

åœ¨è‡ªæ‰˜ç®¡åº”ç”¨ç¨‹åºæ—¶ï¼Œä½ å¯èƒ½éœ€è¦å¯¹ `Cache-Control` æŒ‡ä»¤æœ‰æ›´å¤šæ§åˆ¶ã€‚

ä¸€ä¸ªå¸¸è§çš„æƒ…å†µæ˜¯æ§åˆ¶ ISR é¡µé¢å‘é€çš„ `stale-while-revalidate` å‘¨æœŸã€‚æˆ‘ä»¬å®ç°äº†ä¸¤é¡¹æ”¹è¿›:

1. ä½ ç°åœ¨å¯ä»¥åœ¨ `next.config` ä¸­é…ç½® [`expireTime`](https://nextjs.org/docs/app/api-reference/next-config-js/expireTime) å€¼ã€‚è¿™ä¹‹å‰æ˜¯ `experimental.swrDelta` é€‰é¡¹ã€‚
2. å°†é»˜è®¤å€¼æ›´æ–°ä¸ºä¸€å¹´ï¼Œç¡®ä¿å¤§å¤šæ•° CDN èƒ½å¤ŸæŒ‰é¢„æœŸå®Œå…¨åº”ç”¨ `stale-while-revalidate` è¯­ä¹‰ã€‚

æˆ‘ä»¬ä¹Ÿä¸å†ç”¨é»˜è®¤å€¼è¦†ç›–è‡ªå®šä¹‰çš„ `Cache-Control` å€¼ï¼Œå…è®¸å®Œå…¨æ§åˆ¶å¹¶ç¡®ä¿ä¸ä»»ä½• CDN è®¾ç½®å…¼å®¹ã€‚

æœ€åï¼Œæˆ‘ä»¬æ”¹è¿›äº†è‡ªæ‰˜ç®¡æ—¶çš„å›¾åƒä¼˜åŒ–ã€‚ä¹‹å‰ï¼Œæˆ‘ä»¬å»ºè®®ä½ åœ¨ Next.js æœåŠ¡å™¨ä¸Šå®‰è£… `sharp` æ¥ä¼˜åŒ–å›¾åƒã€‚è¿™ä¸ªå»ºè®®æœ‰æ—¶ä¼šè¢«å¿½ç•¥ã€‚ä» Next.js 15 å¼€å§‹ï¼Œä½ ä¸å†éœ€è¦æ‰‹åŠ¨å®‰è£… `sharp` - å½“ä½¿ç”¨ `next start` æˆ–åœ¨ [standalone è¾“å‡ºæ¨¡å¼](https://nextjs.org/docs/app/api-reference/next-config-js/output) ä¸‹è¿è¡Œæ—¶ï¼ŒNext.js å°†è‡ªåŠ¨ä½¿ç”¨ `sharp`ã€‚

è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬å…³äºè‡ªæ‰˜ç®¡ Next.js çš„æ–° [æ¼”ç¤ºå’Œæ•™ç¨‹è§†é¢‘](https://x.com/leeerob/status/1843796169173995544)ã€‚

## Server Actions çš„å¢å¼ºå®‰å…¨æ€§

[Server Actions](https://react.dev/reference/rsc/server-actions) æ˜¯å¯ä»¥ä»å®¢æˆ·ç«¯è°ƒç”¨çš„æœåŠ¡å™¨ç«¯å‡½æ•°ã€‚å®ƒä»¬é€šè¿‡åœ¨æ–‡ä»¶é¡¶éƒ¨æ·»åŠ  `'use server'` æŒ‡ä»¤å’Œå¯¼å‡ºå¼‚æ­¥å‡½æ•°æ¥å®šä¹‰ã€‚

å³ä½¿ Server Action æˆ–å·¥å…·å‡½æ•°æ²¡æœ‰åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹å¯¼å…¥ï¼Œå®ƒä»ç„¶æ˜¯ä¸€ä¸ªå¯å…¬å¼€è®¿é—®çš„ HTTP ç«¯ç‚¹ã€‚è™½ç„¶è¿™ç§è¡Œä¸ºåœ¨æŠ€æœ¯ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä½†å¯èƒ½å¯¼è‡´è¿™äº›å‡½æ•°è¢«æ— æ„ä¸­æš´éœ²ã€‚

ä¸ºäº†æé«˜å®‰å…¨æ€§ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä»¥ä¸‹å¢å¼ºåŠŸèƒ½:

* **æ­»ä»£ç æ¶ˆé™¤:** æœªä½¿ç”¨çš„ Server Actions çš„ ID ä¸ä¼šæš´éœ²ç»™å®¢æˆ·ç«¯ JavaScript åŒ…ï¼Œä»è€Œå‡å°‘åŒ…çš„å¤§å°å¹¶æå‡æ€§èƒ½ã€‚
* **å®‰å…¨çš„ action ID:** Next.js ç°åœ¨åˆ›å»ºæ— æ³•çŒœæµ‹çš„ã€éç¡®å®šæ€§çš„ IDï¼Œä»¥å…è®¸å®¢æˆ·ç«¯å¼•ç”¨å’Œè°ƒç”¨ Server Actionã€‚è¿™äº› ID ä¼šåœ¨æ„å»ºä¹‹é—´å®šæœŸé‡æ–°è®¡ç®—ä»¥å¢å¼ºå®‰å…¨æ€§ã€‚

```javascript
// app/actions.js
'use server';

// è¿™ä¸ª action **è¢«**ç”¨åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ‰€ä»¥ Next.js
// å°†åˆ›å»ºä¸€ä¸ªå®‰å…¨çš„ ID æ¥å…è®¸å®¢æˆ·ç«¯å¼•ç”¨
// å’Œè°ƒç”¨è¿™ä¸ª Server Actionã€‚
export async function updateUserAction(formData) {}

// è¿™ä¸ª action **æ²¡æœ‰**åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥ Next.js
// å°†åœ¨ `next build` æœŸé—´è‡ªåŠ¨ç§»é™¤è¿™æ®µä»£ç 
// å¹¶ä¸”ä¸ä¼šåˆ›å»ºå…¬å…±ç«¯ç‚¹ã€‚
export async function deleteUserAction(formData) {}
```

ä½ ä»ç„¶åº”è¯¥å°† Server Actions è§†ä¸ºå…¬å…± HTTP ç«¯ç‚¹ã€‚äº†è§£æ›´å¤šå…³äº [ä¿æŠ¤ Server Actions çš„å®‰å…¨](https://nextjs.org/blog/security-nextjs-server-components-actions#write)ã€‚

## ä¼˜åŒ–å¤–éƒ¨åŒ…çš„æ‰“åŒ… (ç¨³å®šç‰ˆ)

æ‰“åŒ…å¤–éƒ¨åŒ…å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„å†·å¯åŠ¨æ€§èƒ½ã€‚åœ¨ **App Router** ä¸­ï¼Œå¤–éƒ¨åŒ…é»˜è®¤ä¼šè¢«æ‰“åŒ…ï¼Œä½ å¯ä»¥ä½¿ç”¨æ–°çš„ [`serverExternalPackages`](https://nextjs.org/docs/app/api-reference/next-config-js/serverExternalPackages) é…ç½®é€‰é¡¹æ¥é€‰æ‹©é€€å‡ºç‰¹å®šåŒ…ã€‚

åœ¨ **Pages Router** ä¸­ï¼Œå¤–éƒ¨åŒ…é»˜è®¤ä¸ä¼šè¢«æ‰“åŒ…ï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ç°æœ‰çš„ [`transpilePackages`](https://nextjs.org/docs/pages/api-reference/next-config-js/transpilePackages) é€‰é¡¹æä¾›è¦æ‰“åŒ…çš„åŒ…åˆ—è¡¨ã€‚ä½¿ç”¨æ­¤é…ç½®é€‰é¡¹æ—¶ï¼Œä½ éœ€è¦æŒ‡å®šæ¯ä¸ªåŒ…ã€‚

ä¸ºäº†ç»Ÿä¸€ App å’Œ Pages Router ä¹‹é—´çš„é…ç½®ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ–°é€‰é¡¹ [`bundlePagesRouterDependencies`](https://nextjs.org/docs/pages/api-reference/next-config-js/bundlePagesRouterDependencies)ï¼Œä»¥åŒ¹é… App Router çš„é»˜è®¤è‡ªåŠ¨æ‰“åŒ…ã€‚å¦‚æœéœ€è¦ï¼Œä½ å¯ä»¥ä½¿ç”¨ [`serverExternalPackages`](https://nextjs.org/docs/app/api-reference/next-config-js/serverExternalPackages) æ¥é€‰æ‹©é€€å‡ºç‰¹å®šåŒ…ã€‚

```javascript
// next.config.ts
const nextConfig = {
  // åœ¨ Pages Router ä¸­è‡ªåŠ¨æ‰“åŒ…å¤–éƒ¨åŒ…:
  bundlePagesRouterDependencies: true,
  // ä¸º App å’Œ Pages Router é€‰æ‹©é€€å‡ºç‰¹å®šåŒ…çš„æ‰“åŒ…:
  serverExternalPackages: ['package-name'],
};

export default nextConfig;
```

äº†è§£æ›´å¤šå…³äº [ä¼˜åŒ–å¤–éƒ¨åŒ…](https://nextjs.org/docs/app/building-your-application/optimizing/package-bundling) çš„ä¿¡æ¯ã€‚

## ESLint 9 æ”¯æŒ

Next.js 15 è¿˜å¼•å…¥äº†å¯¹ [ESLint 9](https://eslint.orghttps://nextjs.org/blog/2024/04/eslint-v9.0.0-released) çš„æ”¯æŒï¼Œè¿™æ˜¯åœ¨ ESLint 8 äº 2024 å¹´ 10 æœˆ 5 æ—¥ç»“æŸç”Ÿå‘½å‘¨æœŸåæ¨å‡ºçš„ã€‚

ä¸ºç¡®ä¿å¹³ç¨³è¿‡æ¸¡ï¼ŒNext.js ä¿æŒå‘åå…¼å®¹ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥ç»§ç»­ä½¿ç”¨ ESLint 8 æˆ– 9ã€‚

å¦‚æœä½ å‡çº§åˆ° ESLint 9ï¼Œå¹¶ä¸”æˆ‘ä»¬æ£€æµ‹åˆ°ä½ è¿˜æ²¡æœ‰é‡‡ç”¨ [æ–°çš„é…ç½®æ ¼å¼](https://eslint.orghttps://nextjs.org/blog/2024/04/eslint-v9.0.0-released/#flat-config-is-now-the-default-and-has-some-changes)ï¼ŒNext.js å°†è‡ªåŠ¨åº”ç”¨ `ESLINT_USE_FLAT_CONFIG=false` è½¬ä¹‰æªæ–½ä»¥ä¾¿äºè¿ç§»ã€‚

æ­¤å¤–ï¼Œåœ¨è¿è¡Œ `next lint` æ—¶å°†ç§»é™¤å·²å¼ƒç”¨çš„é€‰é¡¹ï¼Œå¦‚ `--ext` å’Œ `--ignore-path`ã€‚è¯·æ³¨æ„ï¼ŒESLint æœ€ç»ˆå°†åœ¨ ESLint 10 ä¸­ç¦ç”¨è¿™äº›æ—§é…ç½®ï¼Œæ‰€ä»¥æˆ‘ä»¬å»ºè®®ä½ å°½å¿«å¼€å§‹è¿ç§»ã€‚

æœ‰å…³è¿™äº›æ›´æ”¹çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [è¿ç§»æŒ‡å—](https://eslint.orghttps://nextjs.org/docs/latest/use/migrate-to-9.0.0)ã€‚

ä½œä¸ºæ­¤æ›´æ–°çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬è¿˜å°† `eslint-plugin-react-hooks` å‡çº§åˆ° `v5.0.0`ï¼Œå®ƒä¸º React Hooks ä½¿ç”¨å¼•å…¥äº†æ–°è§„åˆ™ã€‚ä½ å¯ä»¥åœ¨ [eslint-plugin-react-hooks@5.0.0 çš„æ›´æ–°æ—¥å¿—](https://github.com/facebook/react/releases/tag/eslint-plugin-react-hooks%405.0.0) ä¸­æŸ¥çœ‹æ‰€æœ‰æ›´æ”¹ã€‚

## å¼€å‘å’Œæ„å»ºæ”¹è¿›

### æœåŠ¡å™¨ç»„ä»¶ HMR

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¿å­˜æ—¶ä¼šé‡æ–°æ‰§è¡ŒæœåŠ¡å™¨ç»„ä»¶ã€‚è¿™æ„å‘³ç€ï¼Œå¯¹ API ç«¯ç‚¹æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡çš„ä»»ä½• `fetch` è¯·æ±‚ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚

ä¸ºäº†æé«˜æœ¬åœ°å¼€å‘æ€§èƒ½å¹¶å‡å°‘å¯èƒ½ä¼šäº§ç”Ÿè´¹ç”¨çš„ API è°ƒç”¨ï¼Œæˆ‘ä»¬ç°åœ¨ç¡®ä¿çƒ­æ¨¡å—æ›¿æ¢(HMR)å¯ä»¥é‡ç”¨ä¹‹å‰æ¸²æŸ“çš„ `fetch` å“åº”ã€‚

äº†è§£æ›´å¤šå…³äº [æœåŠ¡å™¨ç»„ä»¶ HMR ç¼“å­˜](https://nextjs.org/docs/app/api-reference/next-config-js/serverComponentsHmrCache) çš„ä¿¡æ¯ã€‚

### App Router æ›´å¿«çš„é™æ€ç”Ÿæˆ

æˆ‘ä»¬ä¼˜åŒ–äº†é™æ€ç”Ÿæˆä»¥æ”¹å–„æ„å»ºæ—¶é—´ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå…·æœ‰æ…¢é€Ÿç½‘ç»œè¯·æ±‚çš„é¡µé¢ã€‚

æ­¤å‰ï¼Œæˆ‘ä»¬çš„é™æ€ä¼˜åŒ–è¿‡ç¨‹ä¼šæ¸²æŸ“é¡µé¢ä¸¤æ¬¡ - ä¸€æ¬¡ç”¨äºç”Ÿæˆå®¢æˆ·ç«¯å¯¼èˆªçš„æ•°æ®ï¼Œç¬¬äºŒæ¬¡ç”¨äºæ¸²æŸ“åˆå§‹é¡µé¢è®¿é—®çš„ HTMLã€‚ç°åœ¨ï¼Œæˆ‘ä»¬é‡ç”¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ï¼Œå‡å°‘äº†ç¬¬äºŒæ¬¡æ¸²æŸ“ï¼Œä»è€Œå‡å°‘å·¥ä½œé‡å’Œæ„å»ºæ—¶é—´ã€‚

æ­¤å¤–ï¼Œé™æ€ç”Ÿæˆå·¥ä½œè¿›ç¨‹ç°åœ¨åœ¨é¡µé¢ä¹‹é—´å…±äº« `fetch` ç¼“å­˜ã€‚å¦‚æœä¸€ä¸ª `fetch` è°ƒç”¨æ²¡æœ‰é€‰æ‹©é€€å‡ºç¼“å­˜ï¼Œå…¶ç»“æœä¼šè¢«åŒä¸€å·¥ä½œè¿›ç¨‹å¤„ç†çš„å…¶ä»–é¡µé¢é‡ç”¨ã€‚è¿™å‡å°‘äº†å¯¹ç›¸åŒæ•°æ®çš„è¯·æ±‚æ•°é‡ã€‚

### é«˜çº§é™æ€ç”Ÿæˆæ§åˆ¶ (å®éªŒæ€§)

æˆ‘ä»¬ä¸ºé‚£äº›éœ€è¦æ›´å¤§æ§åˆ¶æƒçš„é«˜çº§ç”¨ä¾‹æ·»åŠ äº†å®éªŒæ€§æ”¯æŒï¼Œä»¥ä¾¿æ›´å¥½åœ°æ§åˆ¶é™æ€ç”Ÿæˆè¿‡ç¨‹ã€‚

æˆ‘ä»¬å»ºè®®åšæŒä½¿ç”¨å½“å‰çš„é»˜è®¤å€¼ï¼Œé™¤éä½ æœ‰ç‰¹å®šçš„éœ€æ±‚ï¼Œå› ä¸ºè¿™äº›é€‰é¡¹å¯èƒ½ä¼šç”±äºå¢åŠ çš„å¹¶å‘æ€§è€Œå¯¼è‡´èµ„æºä½¿ç”¨å¢åŠ å’Œæ½œåœ¨çš„å†…å­˜ä¸è¶³é”™è¯¯ã€‚

```javascript
// next.config.ts
const nextConfig = {
  experimental: {
    // Next.js åœ¨å¤±è´¥æ„å»ºä¹‹å‰é‡è¯•å¤±è´¥é¡µé¢ç”Ÿæˆçš„æ¬¡æ•°
    staticGenerationRetryCount: 1,
    // æ¯ä¸ªå·¥ä½œè¿›ç¨‹å°†å¤„ç†çš„é¡µé¢æ•°é‡
    staticGenerationMaxConcurrency: 8,
    // å¯åŠ¨æ–°çš„å¯¼å‡ºå·¥ä½œè¿›ç¨‹å‰çš„æœ€å°é¡µé¢æ•°
    staticGenerationMinPagesPerWorker: 25
  },
}

export default nextConfig;
```

äº†è§£æ›´å¤šå…³äº [é™æ€ç”Ÿæˆé€‰é¡¹](https://nextjs.org/docs/app/api-reference/next-config-js/staticGeneration) çš„ä¿¡æ¯ã€‚

## å…¶ä»–å˜æ›´

* [ç ´åæ€§å˜æ›´] next/image: ç§»é™¤ `squoosh` è½¬è€Œæ”¯æŒ `sharp` ä½œä¸ºå¯é€‰ä¾èµ– ([PR](https://github.com/vercel/next.js/pull/63321))
* [ç ´åæ€§å˜æ›´] next/image: å°†é»˜è®¤ `Content-Disposition` æ›´æ”¹ä¸º `attachment` ([PR](https://github.com/vercel/next.js/pull/65631))
* [ç ´åæ€§å˜æ›´] next/image: å½“ `src` æœ‰å‰å¯¼æˆ–å°¾éšç©ºæ ¼æ—¶æŠ¥é”™ ([PR](https://github.com/vercel/next.js/pull/65637))
* [ç ´åæ€§å˜æ›´] ä¸­é—´ä»¶: åº”ç”¨ `react-server` æ¡ä»¶ä»¥é™åˆ¶ä¸æ¨èçš„ React API å¯¼å…¥ ([PR](https://github.com/vercel/next.js/pull/65424))
* [ç ´åæ€§å˜æ›´] next/font: ç§»é™¤å¯¹å¤–éƒ¨ `@next/font` åŒ…çš„æ”¯æŒ ([PR](https://github.com/vercel/next.js/pull/65601))
* [ç ´åæ€§å˜æ›´] next/font: ç§»é™¤ `font-family` å“ˆå¸Œ ([PR](https://github.com/vercel/next.js/pull/53608))
* [ç ´åæ€§å˜æ›´] ç¼“å­˜: `force-dynamic` ç°åœ¨ä¼šå°† `no-store` è®¾ä¸º fetch ç¼“å­˜çš„é»˜è®¤å€¼ ([PR](https://github.com/vercel/next.js/pull/64145))
* [ç ´åæ€§å˜æ›´] é…ç½®: é»˜è®¤å¯ç”¨ `swcMinify` ([PR](https://github.com/vercel/next.js/pull/65579))ã€`missingSuspenseWithCSRBailout` ([PR](https://github.com/vercel/next.js/pull/65688)) å’Œ `outputFileTracing` ([PR](https://github.com/vercel/next.js/pull/65579))ï¼Œå¹¶ç§»é™¤å·²å¼ƒç”¨é€‰é¡¹
* [ç ´åæ€§å˜æ›´] ç§»é™¤ Speed Insights çš„è‡ªåŠ¨æ£€æµ‹(ç°åœ¨å¿…é¡»ä½¿ç”¨ä¸“é—¨çš„ [@vercel/speed-insights](https://www.npmjs.com/package/@vercel/speed-insights) åŒ…) ([PR](https://github.com/vercel/next.js/pull/64199))
* [ç ´åæ€§å˜æ›´] ç§»é™¤åŠ¨æ€ç«™ç‚¹åœ°å›¾è·¯ç”±çš„ `.xml` æ‰©å±•åï¼Œå¹¶ç»Ÿä¸€å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¹‹é—´çš„ç«™ç‚¹åœ°å›¾ URL ([PR](https://github.com/vercel/next.js/pull/65507))
* [ç ´åæ€§å˜æ›´] æˆ‘ä»¬å·²å¼ƒç”¨åœ¨ App Router ä¸­å¯¼å‡º `export const runtime = "experimental-edge"`ã€‚ç”¨æˆ·ç°åœ¨åº”è¯¥åˆ‡æ¢åˆ° `export const runtime = "edge"`ã€‚æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ª [codemod](https://nextjs.org/docs/app/building-your-application/upgrading/codemods#app-dir-runtime-config-experimental-edge) æ¥æ‰§è¡Œæ­¤æ“ä½œ ([PR](https://github.com/vercel/next.js/pull/70480))
* [ç ´åæ€§å˜æ›´] åœ¨æ¸²æŸ“æœŸé—´è°ƒç”¨ `revalidateTag` å’Œ `revalidatePath` ç°åœ¨å°†æŠ›å‡ºé”™è¯¯ ([PR](https://github.com/vercel/next.js/pull/71093))
* [ç ´åæ€§å˜æ›´] `instrumentation.js` å’Œ `middleware.js` æ–‡ä»¶ç°åœ¨å°†ä½¿ç”¨æ‰“åŒ…çš„ React åŒ… ([PR](https://github.com/vercel/next.js/pull/69619))
* [ç ´åæ€§å˜æ›´] æœ€ä½éœ€è¦çš„ Node.js ç‰ˆæœ¬å·²æ›´æ–°ä¸º 18.18.0 ([PR](https://github.com/vercel/next.js/pull/67274))
* [ç ´åæ€§å˜æ›´] `next/dynamic`: å·²ç§»é™¤å·²å¼ƒç”¨çš„ `suspense` propï¼Œå¹¶ä¸”å½“ç»„ä»¶åœ¨ App Router ä¸­ä½¿ç”¨æ—¶ï¼Œå®ƒä¸ä¼šå†æ’å…¥ç©ºçš„ Suspense è¾¹ç•Œ ([PR](https://github.com/vercel/next.js/pull/67014))
* [ç ´åæ€§å˜æ›´] åœ¨ Edge Runtime ä¸Šè§£ææ¨¡å—æ—¶ï¼Œä¸ä¼šåº”ç”¨ `worker` æ¨¡å—æ¡ä»¶ ([PR](https://github.com/vercel/next.js/pull/66808))
* [ç ´åæ€§å˜æ›´] ç¦æ­¢åœ¨æœåŠ¡å™¨ç»„ä»¶ä¸­ä½¿ç”¨å¸¦æœ‰ `ssr: false` é€‰é¡¹çš„ `next/dynamic` ([PR](https://github.com/vercel/next.js/pull/70378))
* [æ”¹è¿›] å…ƒæ•°æ®: æ›´æ–°äº†åœ¨ Vercel ä¸Šæ‰˜ç®¡æ—¶ `metadataBase` çš„ç¯å¢ƒå˜é‡å›é€€ ([PR](https://github.com/vercel/next.js/pull/65089))
* [æ”¹è¿›] ä¿®å¤äº†ä½¿ç”¨ `optimizePackageImports` çš„æ··åˆå‘½åç©ºé—´å’Œå‘½åå¯¼å…¥çš„æ ‘æ‘‡ ([PR](https://github.com/vercel/next.js/pull/64894))
* [æ”¹è¿›] å¹¶è¡Œè·¯ç”±: ä¸ºæœªåŒ¹é…çš„ catch-all è·¯ç”±æä¾›æ‰€æœ‰å·²çŸ¥å‚æ•° ([PR](https://github.com/vercel/next.js/pull/65063))
* [æ”¹è¿›] é…ç½® `bundlePagesExternals` ç°åœ¨ç¨³å®šå¹¶é‡å‘½åä¸º `bundlePagesRouterDependencies`
* [æ”¹è¿›] é…ç½® `serverComponentsExternalPackages` ç°åœ¨ç¨³å®šå¹¶é‡å‘½åä¸º `serverExternalPackages`
* [æ”¹è¿›] create-next-app: æ–°é¡¹ç›®é»˜è®¤å¿½ç•¥æ‰€æœ‰ `.env` æ–‡ä»¶ ([PR](https://github.com/vercel/next.js/pull/61920))
* [æ”¹è¿›] `outputFileTracingRoot`ã€`outputFileTracingIncludes` å’Œ `outputFileTracingExcludes` å·²ä»å®éªŒæ€§å‡çº§ä¸ºç¨³å®šç‰ˆ ([PR](https://github.com/vercel/next.js/pull/68464))
* [æ”¹è¿›] é¿å…å°†å…¨å±€ CSS æ–‡ä»¶ä¸æ ‘ä¸­æ›´æ·±å±‚çš„ CSS æ¨¡å—æ–‡ä»¶åˆå¹¶ ([PR](https://github.com/vercel/next.js/pull/67373))
* [æ”¹è¿›] ç°åœ¨å¯ä»¥é€šè¿‡ `NEXT_CACHE_HANDLER_PATH` ç¯å¢ƒå˜é‡æŒ‡å®šç¼“å­˜å¤„ç†ç¨‹åº ([PR](https://github.com/vercel/next.js/pull/70537/))
* [æ”¹è¿›] Pages Router ç°åœ¨åŒæ—¶æ”¯æŒ React 18 å’Œ React 19 ([PR](https://github.com/vercel/next.js/pull/69484))
* [æ”¹è¿›] å¦‚æœå¯ç”¨äº†æ£€æŸ¥å™¨ï¼Œé”™è¯¯è¦†ç›–ç°åœ¨ä¼šæ˜¾ç¤ºä¸€ä¸ªå¤åˆ¶ Node.js Inspector URL çš„æŒ‰é’® ([PR](https://github.com/vercel/next.js/pull/69357))
* [æ”¹è¿›] App Router ä¸Šçš„å®¢æˆ·ç«¯é¢„å–ç°åœ¨ä½¿ç”¨ `priority` å±æ€§ ([PR](https://github.com/vercel/next.js/pull/67356))
* [æ”¹è¿›] Next.js ç°åœ¨æä¾›ä¸€ä¸ª `unstable_rethrow` å‡½æ•°æ¥åœ¨ App Router ä¸­é‡æ–°æŠ›å‡º Next.js å†…éƒ¨é”™è¯¯ ([PR](https://github.com/vercel/next.js/pull/65831))
* [æ”¹è¿›] `unstable_after` ç°åœ¨å¯ä»¥åœ¨é™æ€é¡µé¢ä¸­ä½¿ç”¨ ([PR](https://github.com/vercel/next.js/pull/71231))
* [æ”¹è¿›] å¦‚æœåœ¨ SSR æœŸé—´ä½¿ç”¨äº† `next/dynamic` ç»„ä»¶ï¼Œå°†ä¼šé¢„å–è¯¥å— ([PR](https://github.com/vercel/next.js/pull/65486))
* [æ”¹è¿›] App Router ç°åœ¨æ”¯æŒ `esmExternals` é€‰é¡¹ ([PR](https://github.com/vercel/next.js/pull/65041))
* [æ”¹è¿›] `experimental.allowDevelopmentBuild` é€‰é¡¹å¯ç”¨äºå…è®¸è°ƒè¯•ç›®çš„ä¸‹ä½¿ç”¨ `NODE_ENV=development` è¿è¡Œ `next build` ([PR](https://github.com/vercel/next.js/pull/65463))
* [æ”¹è¿›] åœ¨ Pages Router ä¸­ç¦ç”¨äº† Server Action è½¬æ¢ ([PR](https://github.com/vercel/next.js/pull/71028))
* [æ”¹è¿›] æ„å»ºå·¥ä½œè¿›ç¨‹ç°åœ¨ä¼šåœ¨é€€å‡ºæ—¶åœæ­¢æ„å»ºæŒ‚èµ· ([PR](https://github.com/vercel/next.js/pull/70997))
* [æ”¹è¿›] ä» Server Action é‡å®šå‘æ—¶ï¼Œé‡æ–°éªŒè¯ç°åœ¨å°†æ­£ç¡®åº”ç”¨ ([PR](https://github.com/vercel/next.js/pull/70715))
* [æ”¹è¿›] ç°åœ¨åœ¨ Edge Runtime ä¸Šæ­£ç¡®å¤„ç†å¹¶è¡Œè·¯ç”±çš„åŠ¨æ€å‚æ•° ([PR](https://github.com/vercel/next.js/pull/70667))
* [æ”¹è¿›] é™æ€é¡µé¢ç°åœ¨åœ¨åˆå§‹åŠ è½½åä¼šéµå¾ª staleTime ([PR](https://github.com/vercel/next.js/pull/70640))
* [æ”¹è¿›] `vercel/og` æ›´æ–°äº†å†…å­˜æ³„æ¼ä¿®å¤ ([PR](https://github.com/vercel/next.js/pull/70214))
* [æ”¹è¿›] æ›´æ–°äº†è¡¥ä¸æ—¶é—´ä»¥å…è®¸ä½¿ç”¨åƒ `msw` è¿™æ ·çš„åŒ…è¿›è¡Œ API æ¨¡æ‹Ÿ ([PR](https://github.com/vercel/next.js/pull/68193))
* [æ”¹è¿›] é¢„æ¸²æŸ“é¡µé¢åº”ä½¿ç”¨é™æ€ staleTime ([PR](https://github.com/vercel/next.js/pull/67868))

è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [å‡çº§æŒ‡å—](https://nextjs.org/docs/app/building-your-application/upgrading/version-15)ã€‚

## å…³äºæˆ‘

æˆ‘æ˜¯ä¸€åå…¨æ ˆå·¥ç¨‹å¸ˆï¼ŒNext.js å¼€æºæ‰‹è‰ºäººï¼ŒAIé™ä¸´æ´¾ã€‚

ä»Šå¹´è‡´åŠ›äº Next.js å’Œ Node.js é¢†åŸŸçš„å¼€æºé¡¹ç›®å¼€å‘å’ŒçŸ¥è¯†åˆ†äº«ã€‚

æ¬¢è¿åœ¨ä»¥ä¸‹å¹³å°å…³æ³¨æˆ‘ï¼š

- Twitter(ä¸­æ–‡): [@weijunext](https://x.com/weijunext)
- Twitter(En): [@wayne_dev](https://x.com/wayne_dev)
- Github: [Github](https://github.com/weijunext)
- Blog: [Jå®éªŒå®¤](https://weijunext.com/)
- æ˜é‡‘: [ç¨‹æ™®](https://juejin.cn/user/26044008768029)
- çŸ¥ä¹: [ç¨‹æ™®](https://www.zhihu.com/people/mo-mo-mo-89-12-11)
- å³åˆ»: [BigYeç¨‹æ™®](https://m.okjike.com/users/13EF1128-B51B-4D22-8B95-16BB406529F0)
- å¾®ä¿¡å…¬ä¼—å·: ã€ŒBigYeç¨‹æ™®ã€
- å¾®ä¿¡äº¤æµç¾¤: [å…¨æ ˆäº¤æµç¾¤](/make-a-friend)

